{"version":3,"sources":["reducer.js","context.js","Navbar.js","CartItem.js","CartContainer.js","App.js","index.js"],"names":["reducer","state","action","type","cart","filter","CartItem","id","payload","tempCart","map","amount","reduce","cartTotal","cartItem","price","itemTotal","total","parseFloat","toFixed","loading","AppContext","React","createContext","initState","AppProvider","children","useReducer","dispatch","useEffect","fetchData","a","fetch","responce","json","Provider","value","clearCart","remove","increase","decrease","useGlobalContext","useContext","Navbar","className","xmlns","viewBox","d","img","title","src","alt","onClick","CartContainer","length","item","key","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f09ee12e.chunk.js","sourcesContent":["const reducer = (state, action) => {\r\n  if (action.type === \"CLEAR_CART\") {\r\n    return { ...state, cart: [] };\r\n  }\r\n  if (action.type === \"REMOVE\") {\r\n    return {\r\n      ...state,\r\n      cart: state.cart.filter((CartItem) => CartItem.id !== action.payload),\r\n    };\r\n  }\r\n  if (action.type === \"INCREASE\") {\r\n    let tempCart = state.cart.map((CartItem) => {\r\n      if (CartItem.id === action.payload) {\r\n        return { ...CartItem, amount: CartItem.amount + 1 };\r\n      } else {\r\n        return CartItem;\r\n      }\r\n    });\r\n    return {\r\n      ...state,\r\n      cart: tempCart,\r\n    };\r\n  }\r\n  if (action.type === \"DECREASE\") {\r\n    let tempCart = state.cart\r\n      .map((CartItem) => {\r\n        if (CartItem.id === action.payload) {\r\n          return { ...CartItem, amount: CartItem.amount - 1 };\r\n        } else {\r\n          return CartItem;\r\n        }\r\n      })\r\n      .filter((CartItem) => CartItem.amount !== 0);\r\n    return {\r\n      ...state,\r\n      cart: tempCart,\r\n    };\r\n  }\r\n  if (action.type === \"GET-TOTAL\") {\r\n    let { total, amount } = state.cart.reduce(\r\n      (cartTotal, cartItem) => {\r\n        const { price, amount } = cartItem;\r\n        const itemTotal = price * amount;\r\n        cartTotal.total += itemTotal;\r\n        cartTotal.amount += amount;\r\n        return cartTotal;\r\n      },\r\n      { total: 0, amount: 0 }\r\n    );\r\n    total = parseFloat(total.toFixed(2));\r\n    return { ...state, total, amount };\r\n  }\r\n  if (action.type === \"LOADING\") {\r\n    return { ...state, loading: true };\r\n  }\r\n  if (action.type === \"DISPLAY-ITEM\") {\r\n    return { ...state, cart: action.payload, loading: false };\r\n  }\r\n  return state;\r\n};\r\nexport default reducer;\r\n","import React, { useContext, useReducer, useEffect } from \"react\";\n// import cartItems from \"./data\";\nimport reducer from \"./reducer\";\n// ATTENTION!!!!!!!!!!\n// I SWITCHED TO PERMANENT DOMAIN\nconst url = \"https://course-api.com/react-useReducer-cart-project\";\nconst AppContext = React.createContext();\nconst initState = {\n  loading: false,\n  cart: [],\n  total: 0,\n  amount: 0,\n};\n\nconst AppProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(reducer, initState);\n  const clearCart = () => {\n    dispatch({ type: \"CLEAR_CART\" });\n  };\n  const remove = (id) => {\n    dispatch({ type: \"REMOVE\", payload: id });\n  };\n  const increase = (id) => {\n    dispatch({ type: \"INCREASE\", payload: id });\n  };\n  const decrease = (id) => {\n    dispatch({ type: \"DECREASE\", payload: id });\n  };\n  useEffect(() => {\n    dispatch({ type: \"GET-TOTAL\" });\n  }, [state.cart]);\n  const fetchData = async () => {\n    dispatch({ type: \"Loading\" });\n    const responce = await fetch(url);\n    const cart = await responce.json();\n    dispatch({ type: \"DISPLAY-ITEM\", payload: cart });\n  };\n  useEffect(() => {\n    fetchData();\n  }, []);\n  return (\n    <AppContext.Provider\n      value={{\n        ...state,\n        clearCart,\n        remove,\n        increase,\n        decrease,\n      }}\n    >\n      {children}\n    </AppContext.Provider>\n  );\n};\n// make sure use\nexport const useGlobalContext = () => {\n  return useContext(AppContext);\n};\n\nexport { AppContext, AppProvider };\n","import React from \"react\";\nimport { useGlobalContext } from \"./context\";\nconst Navbar = () => {\n  const { amount } = useGlobalContext();\n  return (\n    <nav>\n      <div className=\"nav-center\">\n        <h3>useReducer</h3>\n        <div className=\"nav-container\">\n          <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\">\n            <path d=\"M16 6v2h2l2 12H0L2 8h2V6a6 6 0 1 1 12 0zm-2 0a4 4 0 1 0-8 0v2h8V6zM4 10v2h2v-2H4zm10 0v2h2v-2h-2z\" />\n          </svg>\n          <div className=\"amount-container\">\n            <p className=\"total-amount\">{amount}</p>\n          </div>\n        </div>\n      </div>\n    </nav>\n  );\n};\n\nexport default Navbar;\n","import React from \"react\";\nimport { useGlobalContext } from \"./context\";\nconst CartItem = ({ id, img, title, price, amount }) => {\n  const { remove, increase, decrease } = useGlobalContext();\n  return (\n    <article className=\"cart-item\">\n      <img src={img} alt={title} />\n      <div>\n        <h4>{title}</h4>\n        <h4 className=\"item-price\">$ {price}</h4>\n        {/* remove button */}\n        <button className=\"remove-btn\" onClick={() => remove(id)}>\n          remove\n        </button>\n      </div>\n      <div>\n        {/* increase amount */}\n        <button className=\"amount-btn\" onClick={() => increase(id)}>\n          <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\">\n            <path d=\"M10.707 7.05L10 6.343 4.343 12l1.414 1.414L10 9.172l4.243 4.242L15.657 12z\" />\n          </svg>\n        </button>\n        {/* amount */}\n        <p className=\"amount\">{amount}</p>\n        {/* decrease amount */}\n        <button className=\"amount-btn\" onClick={() => decrease(id)}>\n          <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\">\n            <path d=\"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z\" />\n          </svg>\n        </button>\n      </div>\n    </article>\n  );\n};\n\nexport default CartItem;\n","import React from \"react\";\nimport CartItem from \"./CartItem\";\nimport { useGlobalContext } from \"./context\";\n\nconst CartContainer = () => {\n  const { cart, total, clearCart } = useGlobalContext();\n  if (cart.length === 0) {\n    return (\n      <section className=\"cart\">\n        {/* cart header */}\n        <header>\n          <h2>your bag</h2>\n          <h4 className=\"empty-cart\">is currently empty</h4>\n        </header>\n      </section>\n    );\n  }\n  return (\n    <section className=\"cart\">\n      {/* cart header */}\n      <header>\n        <h2>your bag</h2>\n      </header>\n      {/* cart items */}\n      <div>\n        {cart.map((item) => {\n          return <CartItem key={item.id} {...item} />;\n        })}\n      </div>\n      {/* cart footer */}\n      <footer>\n        <hr />\n        <div className=\"cart-total\">\n          <h4>\n            total <span>$ {total}</span>\n          </h4>\n        </div>\n        <button className=\"btn clear-btn\" onClick={clearCart}>\n          clear cart\n        </button>\n      </footer>\n    </section>\n  );\n};\n\nexport default CartContainer;\n","import React from \"react\";\nimport { useGlobalContext } from \"./context\";\n\n// components\nimport Navbar from \"./Navbar\";\nimport CartContainer from \"./CartContainer\";\n// items\n\nfunction App() {\n  const { loading } = useGlobalContext();\n  if (loading) {\n    return (\n      <div className=\"loading\">\n        <h1>Loading...</h1>\n      </div>\n    );\n  }\n  return (\n    <main>\n      <Navbar />\n      <CartContainer />\n    </main>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { AppProvider } from './context';\nReactDOM.render(\n  <React.StrictMode>\n    <AppProvider>\n      <App />\n    </AppProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}